<div am-image-picker-list *ngFor="let items of list;index as i;">
  <am-flex align="center">
    <div am-flex-item *ngFor="let item of items;index as j;">
      <ng-container *ngIf="item.type==='image'">
        <div am-image-picker-item>
          <ng-container *ngTemplateOutlet="tpl;context:{$implicit: item.src,i: i, j: j}"></ng-container>
        </div>
      </ng-container>
      <ng-container *ngIf="item.type === 'upload' && !hasFull">
        <div am-image-picker-item am-image-picker-upload-btn [multi]="multi" (onload)="onLoad($event)"></div>
      </ng-container>
    </div>
  </am-flex>
</div>

<ng-template #tpl let-image let-i="i" let-j="j">
  <div am-image-picker-item-remove (click)="removeImage(i,j)"></div>
  <div [am-image-picker-item-content]="image" (onload)="onReLoad(i,j,$event)"></div>
</ng-template>
